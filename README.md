# wf-attack-vpn
To test website fingerprinting attacks on VPN traffic with background traffic (generated by MIT, and KAU).


## Setup
Need to download the dataset from MIT, the Twitch traffic and foreground traffic from KAU. Also download the necessary python packages. To run the Website Fingerprinting, one needs besides python packages, also an implementation of deep fingerprinting adn Tik-Tok, which is provided by Tobias Pulls. 

In the cwd, one needs top add some directories, to store the results from the program (described in section bellow)

### Python Packages
[Pandas](https://pandas.pydata.org/pandas-docs/stable/getting_started/install.html):
```bash 
pip install pandas 
```

[pytables](https://www.pytables.org/usersguide/installation.html) and its dependencies as described in:
```bash 
pip install numpy
pip install numexpr
pip install Cython
pip install blosc
pip install blosc2
pip install tables 
```

[Seaborn](https://seaborn.pydata.org/installing.html) for tables, and its dependencies:
```bash 
pip install matplotlib 
pip install seaborn
```

To run the website fingerprinting, one need to install pytorch through anaconda:
```bash 
wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh
Miniconda3-latest-Linux-x86_64.sh 
```

log out and log in again, then run (can take ages)

```bash
 conda install pytorch torchvision torchaudio pytorch-cuda=11.6 -c pytorch -c nvidia 
 ```

### MIT data
The data can be found [here](https://www.ll.mit.edu/r-d/datasets/vpnnonvpn-network-application-traffic-dataset-vnat), and is stored as h5 file, and pcap files. Both contain the same information, so one do only need the h5 file.
* download the h5 file and name it VNAT_Dataframe_release_1.h5:
```bash
wget https://archive.ll.mit.edu/datasets/vnat/VNAT_Dataframe_release_1.h5
```

### Kau data
At KAU, Tobias Pulls has generated the foreground traffic, and the twitch traffic has been generated by Christoffer Sandquist and Jon-Erik Ersson, for their bachelor at KAU (2023).
```bash
wget http://dart.cse.kau.se/dataset-wg-ff-week15-92-sites-avg-100-samples-merged-cut.zip
wget dart.cse.kau.se/rds-collect/twitch.zip
```

### directories
* ``` stdout ```
    * for all text output from the programs
* ``` h5 ```
    * the extracted MIT datasets
* ``` twitch/parsed_captures ```
    * for the parsed twitch captures, in log files
* ``` twitch/merged_captures ```
    * for the merged twitch captures, as h5 files 

